<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Icon Generator - Flappy Bird</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: linear-gradient(135deg, #70c5ce 0%, #4a9eff 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(0,0,0,0.2);
            padding: 20px;
            border-radius: 15px;
        }
        canvas {
            border: 2px solid white;
            margin: 10px;
            border-radius: 10px;
        }
        .icon-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
        }
        .icon-item {
            text-align: center;
            background: rgba(255,255,255,0.1);
            padding: 10px;
            border-radius: 10px;
        }
        button {
            background: #FFD700;
            color: #333;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 5px;
        }
        button:hover {
            background: #FFA500;
        }
        .instructions {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .download-all {
            text-align: center;
            margin: 20px 0;
        }
        .download-all button {
            font-size: 18px;
            padding: 12px 24px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üê¶ Flappy Bird - Icon Generator</h1>
        
        <div class="instructions">
            <h3>üì± –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –∏–∫–æ–Ω–æ–∫ –¥–ª—è PWA:</h3>
            <ol>
                <li>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–°–æ–∑–¥–∞—Ç—å –≤—Å–µ –∏–∫–æ–Ω–∫–∏" –Ω–∏–∂–µ</li>
                <li>–ö–∞–∂–¥–∞—è –∏–∫–æ–Ω–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∞–µ—Ç—Å—è –≤ –ø–∞–ø–∫—É –∑–∞–≥—Ä—É–∑–æ–∫</li>
                <li>–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –≤—Å–µ PNG —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫—É <code>assets/</code></li>
                <li>–ò–∫–æ–Ω–∫–∏ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PWA –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</li>
            </ol>
        </div>

        <div class="download-all">
            <button onclick="generateAllIcons()">üöÄ –°–æ–∑–¥–∞—Ç—å –≤—Å–µ –∏–∫–æ–Ω–∫–∏</button>
        </div>

        <div class="icon-grid" id="iconGrid">
            <!-- –ò–∫–æ–Ω–∫–∏ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –∑–¥–µ—Å—å -->
        </div>
    </div>

    <script>
        const iconSizes = [72, 96, 128, 144, 152, 192, 384, 512];
        let generatedCount = 0;

        function drawIcon(canvas, size) {
            const ctx = canvas.getContext('2d');
            const scale = size / 512;

            // –û—á–∏—Å—Ç–∫–∞ canvas
            ctx.clearRect(0, 0, size, size);

            // –§–æ–Ω —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º –Ω–µ–±–∞
            const skyGradient = ctx.createLinearGradient(0, 0, 0, size);
            skyGradient.addColorStop(0, '#87CEEB');
            skyGradient.addColorStop(0.7, '#98FB98');
            skyGradient.addColorStop(1, '#228B22');
            
            ctx.fillStyle = skyGradient;
            ctx.fillRect(0, 0, size, size);

            // –û–±–ª–∞–∫–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –∏–∫–æ–Ω–æ–∫)
            if (size >= 128) {
                ctx.fillStyle = 'rgba(255,255,255,0.7)';
                ctx.beginPath();
                ctx.arc(120 * scale, 80 * scale, 25 * scale, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.beginPath();
                ctx.arc(140 * scale, 75 * scale, 30 * scale, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.beginPath();
                ctx.arc(160 * scale, 80 * scale, 25 * scale, 0, Math.PI * 2);
                ctx.fill();
            }

            // –¢—Ä—É–±—ã
            ctx.fillStyle = '#228B22';
            ctx.strokeStyle = '#1a5f1a';
            ctx.lineWidth = Math.max(1, 2 * scale);

            // –õ–µ–≤—ã–µ —Ç—Ä—É–±—ã
            ctx.fillRect(80 * scale, 0, 40 * scale, 180 * scale);
            ctx.strokeRect(80 * scale, 0, 40 * scale, 180 * scale);
            
            ctx.fillRect(75 * scale, 160 * scale, 50 * scale, 20 * scale);
            ctx.strokeRect(75 * scale, 160 * scale, 50 * scale, 20 * scale);

            ctx.fillRect(80 * scale, 320 * scale, 40 * scale, (512-320) * scale);
            ctx.strokeRect(80 * scale, 320 * scale, 40 * scale, (512-320) * scale);
            
            ctx.fillRect(75 * scale, 300 * scale, 50 * scale, 20 * scale);
            ctx.strokeRect(75 * scale, 300 * scale, 50 * scale, 20 * scale);

            // –ü—Ä–∞–≤—ã–µ —Ç—Ä—É–±—ã
            if (size >= 192) {
                ctx.fillRect(400 * scale, 0, 40 * scale, 150 * scale);
                ctx.strokeRect(400 * scale, 0, 40 * scale, 150 * scale);
                
                ctx.fillRect(395 * scale, 130 * scale, 50 * scale, 20 * scale);
                ctx.strokeRect(395 * scale, 130 * scale, 50 * scale, 20 * scale);

                ctx.fillRect(400 * scale, 280 * scale, 40 * scale, (512-280) * scale);
                ctx.strokeRect(400 * scale, 280 * scale, 40 * scale, (512-280) * scale);
                
                ctx.fillRect(395 * scale, 260 * scale, 50 * scale, 20 * scale);
                ctx.strokeRect(395 * scale, 260 * scale, 50 * scale, 20 * scale);
            }

            // –ó–µ–º–ª—è
            ctx.fillStyle = '#228B22';
            ctx.fillRect(0, 480 * scale, size, 32 * scale);
            
            ctx.fillStyle = '#32CD32';
            ctx.fillRect(0, 485 * scale, size, 15 * scale);

            // –¢–µ–∫—Å—Ç—É—Ä–∞ –∑–µ–º–ª–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –∏–∫–æ–Ω–æ–∫)
            if (size >= 128) {
                ctx.fillStyle = '#228B22';
                for (let x = 0; x < size; x += 50 * scale) {
                    ctx.fillRect(x, 490 * scale, 25 * scale, 10 * scale);
                }
            }

            // –ü—Ç–∏—Ü–∞
            const birdX = 256 * scale;
            const birdY = 230 * scale;
            const birdW = 35 * scale;
            const birdH = 28 * scale;

            // –ì—Ä–∞–¥–∏–µ–Ω—Ç –¥–ª—è –ø—Ç–∏—Ü—ã
            const birdGradient = ctx.createRadialGradient(
                birdX, birdY, 0,
                birdX, birdY, Math.max(birdW, birdH)
            );
            birdGradient.addColorStop(0, '#FFD700');
            birdGradient.addColorStop(1, '#FFA500');

            // –¢–µ–ª–æ –ø—Ç–∏—Ü—ã
            ctx.fillStyle = birdGradient;
            ctx.beginPath();
            ctx.ellipse(birdX, birdY, birdW, birdH, 0, 0, Math.PI * 2);
            ctx.fill();

            ctx.strokeStyle = '#CC8400';
            ctx.lineWidth = Math.max(1, 2 * scale);
            ctx.stroke();

            // –ö—Ä—ã–ª–æ –ø—Ç–∏—Ü—ã
            const wingGradient = ctx.createRadialGradient(
                birdX - 11 * scale, birdY - 5 * scale, 0,
                birdX - 11 * scale, birdY - 5 * scale, 22 * scale
            );
            wingGradient.addColorStop(0, '#FFA500');
            wingGradient.addColorStop(1, '#FF8C00');

            ctx.fillStyle = wingGradient;
            ctx.beginPath();
            ctx.ellipse(birdX - 11 * scale, birdY - 5 * scale, 22 * scale, 18 * scale, 0, 0, Math.PI * 2);
            ctx.fill();

            ctx.strokeStyle = '#CC6600';
            ctx.lineWidth = Math.max(1, 1.5 * scale);
            ctx.stroke();

            // –ö–ª—é–≤ –ø—Ç–∏—Ü—ã
            ctx.fillStyle = '#FF6B47';
            ctx.beginPath();
            ctx.moveTo((birdX + birdW - 6 * scale), birdY - 2 * scale);
            ctx.lineTo((birdX + birdW + 14 * scale), birdY - 8 * scale);
            ctx.lineTo((birdX + birdW + 14 * scale), birdY + 4 * scale);
            ctx.closePath();
            ctx.fill();

            ctx.strokeStyle = '#CC4400';
            ctx.lineWidth = Math.max(1, 1 * scale);
            ctx.stroke();

            // –ì–ª–∞–∑ –ø—Ç–∏—Ü—ã
            if (size >= 64) {
                ctx.fillStyle = '#000';
                ctx.beginPath();
                ctx.arc(birdX + 14 * scale, birdY - 10 * scale, 6 * scale, 0, Math.PI * 2);
                ctx.fill();

                if (size >= 96) {
                    ctx.fillStyle = '#FFF';
                    ctx.beginPath();
                    ctx.arc(birdX + 16 * scale, birdY - 12 * scale, 2 * scale, 0, Math.PI * 2);
                    ctx.fill();
                }
            }

            // –≠—Ñ—Ñ–µ–∫—Ç power-up (—Ç–æ–ª—å–∫–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –∏–∫–æ–Ω–æ–∫)
            if (size >= 192) {
                ctx.strokeStyle = '#FFD700';
                ctx.lineWidth = 3 * scale;
                ctx.setLineDash([5 * scale, 5 * scale]);
                ctx.globalAlpha = 0.6;
                ctx.beginPath();
                ctx.arc(birdX, birdY, 50 * scale, 0, Math.PI * 2);
                ctx.stroke();
                ctx.setLineDash([]);
                ctx.globalAlpha = 1;

                // –ó–≤–µ–∑–¥–æ—á–∫–∏
                drawStar(ctx, 200 * scale, 180 * scale, 5 * scale, '#FFD700');
                drawStar(ctx, 320 * scale, 190 * scale, 5 * scale, '#FFD700');
            }

            // –ó–∞–≥–æ–ª–æ–≤–æ–∫ (—Ç–æ–ª—å–∫–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –∏–∫–æ–Ω–æ–∫)
            if (size >= 384) {
                ctx.fillStyle = '#FFF';
                ctx.strokeStyle = '#333';
                ctx.lineWidth = 1;
                ctx.font = `bold ${24 * scale}px Arial, sans-serif`;
                ctx.textAlign = 'center';
                ctx.strokeText('Flappy Bird', birdX, 460 * scale);
                ctx.fillText('Flappy Bird', birdX, 460 * scale);

                ctx.font = `${12 * scale}px Arial, sans-serif`;
                ctx.globalAlpha = 0.8;
                ctx.fillText('Enhanced', birdX, 475 * scale);
                ctx.globalAlpha = 1;
            }
        }

        function drawStar(ctx, x, y, size, color) {
            ctx.fillStyle = color;
            ctx.globalAlpha = 0.8;
            ctx.beginPath();
            ctx.moveTo(x, y - size);
            ctx.lineTo(x + size * 0.2, y - size * 0.2);
            ctx.lineTo(x + size, y - size * 0.2);
            ctx.lineTo(x + size * 0.3, y + size * 0.2);
            ctx.lineTo(x + size * 0.5, y + size);
            ctx.lineTo(x, y + size * 0.4);
            ctx.lineTo(x - size * 0.5, y + size);
            ctx.lineTo(x - size * 0.3, y + size * 0.2);
            ctx.lineTo(x - size, y - size * 0.2);
            ctx.lineTo(x - size * 0.2, y - size * 0.2);
            ctx.closePath();
            ctx.fill();
            ctx.globalAlpha = 1;
        }

        function downloadIcon(canvas, size) {
            const link = document.createElement('a');
            link.download = `icon-${size}.png`;
            link.href = canvas.toDataURL('image/png');
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function createIconElement(size) {
            const iconItem = document.createElement('div');
            iconItem.className = 'icon-item';

            const canvas = document.createElement('canvas');
            canvas.width = size;
            canvas.height = size;
            canvas.style.width = '80px';
            canvas.style.height = '80px';

            const label = document.createElement('div');
            label.textContent = `${size}x${size}`;
            label.style.fontWeight = 'bold';
            label.style.marginBottom = '5px';

            const button = document.createElement('button');
            button.textContent = '–°–∫–∞—á–∞—Ç—å';
            button.onclick = () => downloadIcon(canvas, size);

            drawIcon(canvas, size);

            iconItem.appendChild(label);
            iconItem.appendChild(canvas);
            iconItem.appendChild(button);

            return iconItem;
        }

        function generateAllIcons() {
            const iconGrid = document.getElementById('iconGrid');
            iconGrid.innerHTML = '';

            iconSizes.forEach((size, index) => {
                setTimeout(() => {
                    const iconElement = createIconElement(size);
                    iconGrid.appendChild(iconElement);
                    
                    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∏–≤–∞–µ–º –∫–∞–∂–¥—É—é –∏–∫–æ–Ω–∫—É
                    setTimeout(() => {
                        const canvas = iconElement.querySelector('canvas');
                        downloadIcon(canvas, size);
                        generatedCount++;
                        
                        if (generatedCount === iconSizes.length) {
                            alert(`‚úÖ –í—Å–µ –∏–∫–æ–Ω–∫–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ —Å–∫–∞—á–∞–Ω—ã!\n\n–ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª—ã icon-*.png –≤ –ø–∞–ø–∫—É assets/`);
                        }
                    }, 100);
                }, index * 200);
            });
        }

        // –°–æ–∑–¥–∞–µ–º –ø—Ä–µ–≤—å—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = function() {
            const iconGrid = document.getElementById('iconGrid');
            iconSizes.forEach(size => {
                const iconElement = createIconElement(size);
                iconGrid.appendChild(iconElement);
            });
        };
    </script>
</body>
</html>
